{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
    <body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark">
    <div class="relative flex min-h-screen w-full flex-col group/design-root overflow-x-hidden">
        <div class="flex flex-row min-h-screen">

            <main class="flex-1 p-6 md:p-8 lg:p-10">
                <div class="max-w-4xl mx-auto">

                    <div class="flex flex-wrap gap-2 mb-6 pt-4">
                        <a class="text-primary text-sm font-medium leading-normal hover:text-primary/80" href="{% url 'list_teachers' %}">Nauczyciele</a>
                        <span class="text-placeholder-light dark:text-placeholder-dark text-sm font-medium leading-normal">/</span>
                        <span class="text-text-light dark:text-text-dark text-sm font-medium leading-normal">Dodaj nowego Pracownika</span>
                    </div>

                    <div class="flex flex-wrap justify-between items-center gap-3 mb-8">
                        <h1 class="text-text-light dark:text-text-dark text-3xl font-bold leading-tight tracking-tight">Dodaj Nowego Pracownika</h1>
                    </div>



                    <div class="bg-card-light dark:bg-card-dark p-6 md:p-8 rounded-lg shadow-sm border border-border-light dark:border-border-dark">

                        <form method="post" action="#">
                            {% csrf_token %}

                            <div class="flex flex-col gap-8">

                                <div class="flex flex-col gap-6">
                                    <h2 class="text-lg font-semibold text-text-light dark:text-text-dark border-b border-border-light dark:border-border-dark pb-3">Dane Podstawowe & Zaproszenie</h2>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                                        <label class="flex flex-col">
                                            <p class="text-text-light dark:text-text-dark text-sm font-medium leading-normal pb-2">Email Pracownika:</p>
                                            <input class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-DEFAULT text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark focus:border-primary h-12 placeholder:text-placeholder-light dark:placeholder:text-placeholder-dark px-3 py-2 text-base font-normal leading-normal"
                                                   placeholder="Wpisz email pracownika"
                                                   type="email"
                                                   name="email"
                                                   required/>
                                        </label>

                                        <label class="flex flex-col">
                                            <p class="text-text-light dark:text-text-dark text-sm font-medium leading-normal pb-2">Posada (Rola)</p>
                                            <div class="relative w-full">
                                                <select class="form-select appearance-none w-full min-w-0 flex-1 rounded-DEFAULT text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark focus:border-primary h-12 placeholder:text-placeholder-light dark:placeholder:text-placeholder-dark pl-3 pr-10 py-2 text-base font-normal leading-normal"
                                                        name="role"
                                                        id="id_role">
                                                    {% for role_pk, role_name in roles %}
                                                        {% comment %} W twoim oryginalnym kodzie, w widoku get, role jest listą tupli. {% endcomment %}
                                                        <option value="{{ role_pk }}" {% if role_name == 'nauczyciel' %}selected{% endif %}>{{ role_name|title }}</option>
                                                    {% endfor %}
                                                </select>
                                                <span class="material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-placeholder-light dark:text-placeholder-dark pointer-events-none">expand_more</span>
                                            </div>
                                        </label>
                                    </div>
                                </div>

                                <div class="flex flex-col gap-6">
                                    <h2 class="text-lg font-semibold text-text-light dark:text-text-dark border-b border-border-light dark:border-border-dark pb-3">Warunki Zatrudnienia & Przypisanie</h2>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                                        <label class="flex flex-col">
                                            <p class="text-text-light dark:text-text-dark text-sm font-medium leading-normal pb-2">Miesięczne Wynagrodzenie (PLN):</p>
                                            <input class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-DEFAULT text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark focus:border-primary h-12 placeholder:text-placeholder-light dark:placeholder:text-placeholder-dark px-3 py-2 text-base font-normal leading-normal"
                                                   placeholder="Wpisz kwotę"
                                                   type="number"
                                                   min="1"
                                                   name="salary"
                                                   required/>
                                        </label>

                                        <label class="flex flex-col" id="group-select-container">
                                            <p class="text-text-light dark:text-text-dark text-sm font-medium leading-normal pb-2">Przypisz do Grupy:</p>
                                            <div class="relative w-full">
                                                <select class="form-select appearance-none w-full min-w-0 flex-1 rounded-DEFAULT text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark focus:border-primary h-12 placeholder:text-placeholder-light dark:placeholder:text-placeholder-dark pl-3 pr-10 py-2 text-base font-normal leading-normal"
                                                        name="group"
                                                        id="id_group">
                                                    <option value="">-- Nie przypisuj (jeśli rola to nie nauczyciel) --</option>
                                                    {% for group in groups %}
                                                        <option value="{{ group.id }}">{{ group.name }}</option>
                                                    {% endfor %}
                                                </select>
                                                <span class="material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-placeholder-light dark:text-placeholder-dark pointer-events-none">expand_more</span>
                                            </div>
                                        </label>

                                    </div>
                                </div>

                                <div class="border-t border-border-light dark:border-border-dark pt-6 mt-4 flex flex-col sm:flex-row-reverse sm:items-center sm:justify-start gap-4">
                                    <button class="flex items-center justify-center gap-2 w-full sm:w-auto rounded-DEFAULT bg-primary px-6 py-3 text-base font-semibold leading-6 text-white shadow-sm hover:bg-primary/90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary" type="submit">
                                        <span class="material-symbols-outlined text-xl">mail</span>
                                        Wyślij Zaproszenie
                                    </button>
                                    <a href="{% url 'list_teachers' %}" class="flex items-center justify-center gap-2 w-full sm:w-auto rounded-DEFAULT bg-card-light dark:bg-card-dark px-6 py-3 text-base font-semibold leading-6 text-text-light dark:text-text-dark border border-border-light dark:border-border-dark shadow-sm hover:bg-background-light dark:hover:bg-background-dark" type="button">Anuluj</a>
                                    <div class="flex items-center gap-2 text-placeholder-light dark:text-placeholder-dark text-sm mt-2 sm:mt-0 sm:mr-auto">
                                        <span class="material-symbols-outlined text-base">info</span>
                                        <span>Email z danymi do konta zostanie wysłany do pracownika.</span>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </main>
        </div>
    </div>
    </body>
{% endblock %}