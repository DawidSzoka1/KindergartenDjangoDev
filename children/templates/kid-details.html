{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load static %}
{% block content %}
    {% if kid %}
        <form method="post" action="#">
            {% csrf_token %}
            <div class="container mt-4 text-color-darker">
                <div class="row gutters">
                    <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
                        <div class="card h-100">
                            <div class="card-body">
                                <div class="account-settings">
                                    <div class="user-profile">
                                        <div class="mb-2 center">

                                            <svg xmlns="http://www.w3.org/2000/svg" width="256" height="256"
                                                 fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                                                <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"/>
                                            </svg>
                                        </div>
                                        <label for="user-name">Imie:</label>
                                        <h5 class="user-name" id="user-name">{{ kid.first_name|title }}</h5>
                                        <label class="" for="user-surname">Nazwisko:</label>
                                        <h5 class="user-email" id="user-surname">{{ kid.last_name|title }}</h5>
                                    </div>
                                    <div class="about">
                                        <h5 class="mb-2 text-primary">Info</h5>
                                        <p>This is your account as a kid</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
                        <div class="card h-100">
                            <div class="card-body text-color-darker">
                                <div class="row gutters text-color-darker">
                                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                                        <h6 class="mb-3 text-primary">Personal Details</h6>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">

                                        <div class="form-group">
                                            <label for="gender">Płeć dziecka:</label>
                                            <input class="form-control" name="gender" type="text"
                                                   value="{{ kid.get_gender_display }}">

                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">

                                        <div class="form-group">
                                            <label for="group">Nazwa grupy:</label>
                                            <input class="form-control" name="group" type="text"
                                                   value="{{ kid.group.name }}">

                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 mt-2">

                                        <div class="form-group">
                                            <label for="start">Poczatek umowy:</label>
                                            <input class="form-control" name="start" type="text"
                                                   value="{{ kid.start }}">

                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 mt-2">

                                        <div class="form-group">
                                            <label for="end">Koniec umowy:</label>
                                            <input class="form-control" name="end" type="text"
                                                    {% if kid.end %}
                                                   value="{{ kid.end }}"
                                                    {% else %}
                                                   value="Na czas nieokreslony"
                                                    {% endif %}
                                            >

                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 mt-2">

                                        <div class="form-group">
                                            <label for="payment">Plan Platniczy</label>
                                            <input class="form-control" name="payment" type="text"
                                                   value="{{ kid.payment_plan.name }}">

                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 mt-2">

                                        <div class="form-group">
                                            <label for="to-pay">Stały koszt miesieczny:</label>
                                            <input class="form-control" name="to-pay" type="text"
                                                   value="{{ kid.payment_plan.price }}">

                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 mt-2">

                                        <div class="form-group">
                                            <label for="with-meals">Do zapłaty w tym miesiacu:</label>
                                            <input class="form-control" name="with-meals" type="text"
                                                   value="{{ kid.amount }}">

                                        </div>
                                    </div>
                                    {% for meal in kid.kid_meals.all %}
                                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 mt-2">

                                            <div class="form-group">
                                                <label for="meals">Plan zywieniowy:</label>
                                                <input class="form-control" name="meals" type="text"
                                                       value="{{ meal.name }}">

                                            </div>
                                        </div>
                                        </div>
                                    {% endfor %}

                            </div>

                        </div>

                    </div>

                </div>
                <div class="row gutters mt-3 text-color-darker">
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <h6 class="mb-3 text-primary">Parents</h6>
                    </div>
                    {% for parent in kid.parenta_set.all %}
                        <a href="{% url 'parent_details' pk=parent.id %}">Profil Rodzica</a>
                        <div class="card h-90">
                            <div class="card-body">
                                <div class="row gutters mt-3 text-color-darker">
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                                        <div class="form-group">
                                            <label for="Street">First name:</label>
                                            <input type="text" class="form-control" id="Street"
                                                   value="{{ parent.first_name }}" readonly>
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                                        <div class="form-group">
                                            <label for="parent_last_name">Last name:</label>
                                            <input type="text" class="form-control" id="parent_last_name"
                                                   value="{{ parent.last_name }}" readonly>
                                        </div>
                                    </div>

                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 mt-2">
                                        <div class="form-group">
                                            <label for="sTate">Email:</label>
                                            <input type="text" class="form-control" id="sTate"
                                                   value="{{ parent.user.email }}" readonly>
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12 mt-2">
                                        <div class="form-group">
                                            <label for="tel">Numer telefonu:</label>
                                            <input type="text" class="form-control" id="tel"
                                                   value="{{ parent.phone }}" readonly>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    {% endfor %}
                </div>
            </div>


        </form>
    {% else %}
        <div class="alert alert-danger">
            Nie ma takiego dziecka
            <div class="col mb-4">
                <div class="d-flex justify-content-end noPadding">
                    <a href="{% url 'list_kids' %}"
                       class="btn btn-danger rounded-0 pt-0 pb-0 pr-4 pl-4">Powrót</a>
                </div>
            </div>
        </div>

    {% endif %}
{% endblock %}